(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{347:()=>{},361:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155);a(6874);var n=a(6766),r=a(2115),l=a(6086);a(3094);var i=a(5695);let o=function(e){let{currentPage:t,setCurrentPage:a,UserName:n,setName:o}=e,[d,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c(!0)},[]),r.useEffect(()=>{console.log("Name updated:",n)},[n]),(0,i.useRouter)();let h=e=>{a("demos")};return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,s.jsx)("div",{className:"fade-text ".concat(d?"visible":""),children:(0,s.jsx)("p",{className:"verdana-xl padding-class-around",children:"Welcome to Luna"})}),(0,s.jsxs)("div",{className:"fade-text2 ".concat(d?"visible":""),children:[(0,s.jsx)("p",{className:"verdana-xs-italic padding-class-aroundish",children:"A menstrual period predictor tool"}),(0,s.jsx)("p",{className:"verdana-xs padding-class-aroundest",children:"This tool will give you a well-informed prediction of the day your next period will start based on some information about you."})]}),(0,s.jsxs)("div",{className:"verdana-small padding-class-top fade-text3 ".concat(d?"visible":""),children:[(0,s.jsx)("form",{onSubmit:h,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"UserName",children:"Let's start with your name:\xa0\xa0"}),(0,s.jsx)("input",{type:"text",id:"ip3",value:n,onChange:e=>o(e.target.value),required:!0})]})}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"3rem"},children:(0,s.jsx)(l.A,{onClick:h,className:"verdana-small ".concat(n.length>0?"":"hidden-text"),children:"Next"})})]})]})};var d=a(1077);a(347);var c=a(5357);let h=function(e){let{currentPage:t,setCurrentPage:a,setAge:i,Age:o,Feet:h,setFeet:x,Inches:g,setInches:m,Weight:p,setWeight:u,setDate:f,date:j,setSecondDate:b,secondDate:y,setThirdDate:v,thirdDate:w,setDateError:N,dateError:S,setDate2Error:D,date2Error:C,setResult:I}=e,[E,A]=(0,r.useState)(!1),[P,T]=(0,r.useState)(!1),[F,k]=(0,r.useState)(!1),[W,M]=(0,r.useState)(!1),[O,R]=(0,r.useState)(null);(0,r.useEffect)(()=>{M(!0)},[]),(0,r.useEffect)(()=>{console.log("Date updated:",j&&j.length>0?j[0].toDateString():"No date")},[j]),(0,r.useEffect)(()=>{console.log("Second date updated:",y&&y.length>0?y[0].toDateString():"No date"),y.length>0&&j.length>0&&new Date(y[0])>new Date(j[0])&&N("")},[y,j,N]),(0,r.useEffect)(()=>{console.log("Third date updated:",w&&w.length>0?w[0].toDateString():"No date"),w.length>0&&y.length>0&&j.length>0&&new Date(w[0])>new Date(y[0])&&new Date(w[0])>new Date(j[0])&&D("")},[w,y,j,D]);let U=e=>{if(!e)return null;let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)},_=async()=>{if(w.length>0&&y.length>0){if(new Date(w[0])<=new Date(y[0])||new Date(w[0])<=new Date(j[0])){D("The third period must occur after the first and second periods.");return}D("")}console.log("Submitted third cycle"),console.log("Predict button clicked with data:",{Age:o,Feet:h,Inches:g,Weight:p}),k(!0),R(null);let e=Math.round((new Date(y[0])-new Date(j[0]))/864e5),t=Math.round((new Date(w[0])-new Date(y[0]))/864e5);console.log("Cycle 1 (days):",e),console.log("Cycle 2 (days):",t);let s=U(w[0]);console.log("Formatted third date:",s);try{let n={thirdDate:s,cycle_1:e,cycle_2:t,Age:parseInt(o)||0,Feet:parseInt(h)||0,Inches:parseInt(g)||0,Weight:parseFloat(p)||0};console.log("Sending request with body:",JSON.stringify(n));let r=await fetch("http://127.0.0.1:5000/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){let e=await r.json();throw Error("API error (".concat(r.status,"): ").concat(e.error||"Unknown error"))}let l=await r.json();if(console.log("Prediction result:",l),l&&l.predictionDate)I(l),k(!1),a("prediction");else throw Error("Invalid response format from API")}catch(e){console.error("There was a problem with the fetch operation:",e),R(e.message),k(!1)}};return(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center",position:"relative"},children:(0,s.jsx)(function(e){let{active:t,children:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{open:t,sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,display:"flex",flexDirection:"column"},children:(0,s.jsx)(n.default,{src:"/predicting.gif",alt:"Loading spinner",width:150,height:150})}),a]})},{active:F,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{position:"absolute",top:"130px",left:"0",right:"0",textAlign:"center",zIndex:10},children:(0,s.jsx)("p",{className:"verdana-large text-center padding-class-tight fade-text ".concat(W?"visible":""),children:"Please select the dates of your last three periods, beginning with the oldest."})}),(0,s.jsxs)("div",{className:"app",style:{marginTop:"20px"},children:[!E&&!P&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",marginTop:"20px"},children:[(0,s.jsx)(d.Ay,{onChange:f,value:j,selectRange:!0,maxDate:new Date}),(0,s.jsxs)("div",{style:{position:"absolute",top:"50%",left:"calc(50% + 240px)",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"0rem",backgroundColor:"transparent",minWidth:"300px",height:"300px"},children:[(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:j.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("b",{children:"First period (oldest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),j.length>0?j[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),j.length>0?j[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:y.length>0&&(0,s.jsxs)("p",{className:"verdana-small fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Second period:"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),y.length>0?y[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),y.length>0?y[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:w.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Third period (newest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),w.length>0?w[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),w.length>0?w[1].toDateString():" "]})})]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1rem"},children:(0,s.jsx)(l.A,{onClick:()=>{A(!0),console.log("Demographic Info:",{Age:o,Feet:h,Inches:g,Weight:p}),console.log("Submitted first cycle")},className:"verdana-small ".concat(j.length>1?"":"hidden-text"),children:"Next"})})]}),E&&!P&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",marginTop:"80px"},children:[(0,s.jsx)(d.Ay,{onChange:e=>{b(e),j.length>0&&e.length>0&&new Date(e[0])>new Date(j[0])&&N("")},value:y,selectRange:!0,maxDate:new Date}),(0,s.jsxs)("div",{style:{position:"absolute",top:"50%",left:"calc(50% + 240px)",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"0rem",backgroundColor:"transparent",minWidth:"300px",height:"300px"},children:[(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:j.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("b",{children:"First period (oldest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),j.length>0?j[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),j.length>0?j[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:y.length>0&&(0,s.jsxs)("p",{className:"verdana-small fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Second period:"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),y.length>0?y[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),y.length>0?y[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:w.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Third period (newest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),w.length>0?w[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),w.length>0?w[1].toDateString():" "]})})]}),(0,s.jsx)("div",{style:{height:"1px",margin:"0.5rem 0",position:"relative",width:"100%"},children:S&&(0,s.jsx)("p",{className:"verdana-xs",style:{color:"#EF5350",position:"absolute",width:"100%",animation:"fadeIn 0.5s ease-in",margin:0},children:S})}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1rem"},children:(0,s.jsx)(l.A,{onClick:()=>{if(y.length>0&&j.length>0){if(new Date(y[0])<=new Date(j[0])){N("The second period must occur after the first period.");return}N("")}A(!1),T(!0),console.log("Submitted second cycle")},className:"verdana-small ".concat(y.length>1?"":"hidden-text"),children:"Next"})})]})}),P&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",marginTop:"80px"},children:[(0,s.jsx)(d.Ay,{onChange:e=>{v(e),y.length>0&&j.length>0&&e.length>0&&new Date(e[0])>new Date(y[0])&&new Date(e[0])>new Date(j[0])&&D("")},value:w,selectRange:!0,maxDate:new Date}),(0,s.jsxs)("div",{style:{position:"absolute",top:"50%",left:"calc(50% + 240px)",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"0rem",backgroundColor:"transparent",minWidth:"300px",height:"300px"},children:[(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:j.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("b",{children:"First period (oldest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),j.length>0?j[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),j.length>0?j[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:y.length>0&&(0,s.jsxs)("p",{className:"verdana-small fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Second period:"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),y.length>0?y[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),y.length>0?y[1].toDateString():" "]})}),(0,s.jsx)("div",{style:{height:"100px",width:"100%"},children:w.length>0&&(0,s.jsxs)("p",{className:"verdana-small padding-class-around fade-text ".concat(W?"visible":""),children:[(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Third period (newest):"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"Start date: "}),w.length>0?w[0].toDateString():" ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"bold",children:"End date: "}),w.length>0?w[1].toDateString():" "]})})]}),(0,s.jsx)("div",{style:{height:"1px",margin:"1.5rem 0",position:"relative",width:"100%"},children:C&&(0,s.jsx)("p",{className:"verdana-xs",style:{color:"#EF5350",position:"absolute",width:"100%",animation:"fadeIn 0.5s ease-in",margin:0},children:C})}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"0.1rem"},children:(0,s.jsx)(l.A,{onClick:_,className:"verdana-small ".concat(w.length>1?"":"hidden-text"),children:"Predict"})})]})})]})]})})})},x=function(e){let{currentPage:t,setCurrentPage:a,UserName:n,setAge:i,setFeet:o,setInches:d,setWeight:c}=e,[h,x]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y(!0)},[]);let[v,w]=(0,r.useState)(""),N=e=>{let t=Number(h),s=Number(g),n=Number(p),r=Number(f);if(t<14||t>60){w("Please enter a valid value for age. Age should be between 14 and 60 years old.");return}if(s<4||s>7){w("Please enter a valid value for feet. Feet should be between 4 and 7 feet.");return}if(n<0||n>11){w("Please enter a valid value for inches. Inches should be between 0 and 11 inches.");return}if(r<60||r>500){w("Please enter a valid value for weight. Weight should be between 60 and 500 pounds.");return}w(""),i(t),o(s),d(n),c(r),a("input"),console.log("Submitted demographic information:",{ageNum:t,feetNum:s,inchesNum:n,weightNum:r})};return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},children:[(0,s.jsxs)("div",{className:"verdana-xl padding-class-arounder fade-text ".concat(b?"visible":""),children:["Hello ",n||"there","!"]}),(0,s.jsx)("div",{className:"verdana-xs padding-class-aroundest fade-text2 ".concat(b?"visible":""),children:"Now, can you tell me more about your  This will be used to make a more accurate prediction."}),(0,s.jsxs)("div",{className:"verdana-small p.small fade-text2 ".concat(b?"visible":""),children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N()},style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"Age",children:"What is your age? \xa0  \xa0  "}),(0,s.jsx)("input",{type:"number",id:"ip1",min:"14",max:"76",value:h,onChange:e=>x(e.target.value),required:!0}),"\xa0 years \xa0"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"Height",children:"What is your height? \xa0  \xa0  "}),(0,s.jsx)("input",{type:"number",id:"ip0",min:"1",max:"10",value:g,onChange:e=>m(e.target.value),required:!0}),"\xa0 feet \xa0",(0,s.jsx)("input",{type:"number",id:"ip1",min:"0",max:"11",value:p,onChange:e=>u(e.target.value),required:!0}),"\xa0 inches \xa0"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"Weight",children:"What is your weight? \xa0  \xa0  "}),(0,s.jsx)("input",{type:"number",id:"ip2",value:f,onChange:e=>j(e.target.value),required:!0}),"\xa0 pounds \xa0"]})]}),(0,s.jsx)("div",{style:{height:"1px",margin:"1.5rem 0",position:"relative"},children:v&&(0,s.jsx)("p",{className:"verdana-xs",style:{color:"#EF5350",textAlign:"center",position:"absolute",width:"100%",animation:"fadeIn 0.5s ease-in",margin:0},children:v})}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"4rem"},children:(0,s.jsx)(l.A,{onClick:N,className:"verdana-small ".concat(h.length>0&&g.length>0&&p.length>0&&f.length>0?"":"hidden-text"),children:"Next"})})]})]})},g=e=>new Date(e),m=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)},p=(e,t)=>{let a=[],s=new Date(e),n=new Date(t);for(;s<=n;)a.push(new Date(s)),s.setDate(s.getDate()+1);return a},u=(e,t)=>{let a=new Date(e);return a.setDate(a.getDate()+t),a},f=e=>{let{predictionDate:t,lowerBound:a,upperBound:n}=e,[l,i]=(0,r.useState)([]);if((0,r.useEffect)(()=>{console.log("PredictionChart received props:",{predictionDate:t,lowerBound:a,upperBound:n})},[t,a,n]),(0,r.useEffect)(()=>{if(!t||!a||!n){console.log("Missing required date props:",{predictionDate:t,lowerBound:a,upperBound:n});return}try{let e=g(t),s=g(a),r=g(n);console.log("Parsed dates:",{predictedDate:e.toISOString(),lowerDate:s.toISOString(),upperDate:r.toISOString()});let l=u(s,-1),o=u(r,1),d=p(l,o);console.log("Generated ".concat(d.length," dates for chart")),i(d)}catch(e){console.error("Error processing dates in PredictionChart:",e)}},[t,a,n]),!l.length)return(0,s.jsxs)("div",{className:"p-4 text-center",children:[(0,s.jsx)("p",{children:"Loading chart data..."}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[t?"":"Missing prediction date",a?"":" Missing lower bound",n?"":" Missing upper bound"]})]});try{let e=g(t),r=g(a),i=g(n),o=e=>l.findIndex(t=>t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()),d=o(r),c=o(i),h=o(e);return console.log("Date indices:",{lowerIndex:d,upperIndex:c,predictedIndex:h}),(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Predicted Period Start Date with Range of Uncertainty"}),(0,s.jsxs)("div",{className:"relative h-64 mt-8 mb-6 border border-gray-300 rounded-lg bg-gray-50 p-4",children:[(0,s.jsx)("div",{className:"absolute h-32 bg-blue-100 top-4",style:{left:"".concat(d/l.length*100,"%"),width:"".concat((c-d+1)/l.length*100,"%")}}),(0,s.jsx)("div",{className:"absolute h-40 border-l-4 border-red-500 border-dashed top-0 z-10",style:{left:"".concat(h/l.length*100,"%")}}),(0,s.jsx)("div",{className:"absolute w-full bottom-0 h-10 flex",children:l.map((e,t)=>{let a=l.length<=8||t%(l.length>14?2:1)==0;return(0,s.jsxs)("div",{className:"flex-grow flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-4 border-l ".concat(t===h?"border-red-500 border-l-2":"border-gray-300")}),a&&(0,s.jsx)("div",{className:"text-xs mt-1 transform -rotate-45 origin-top-left ml-2 text-gray-700",children:m(e)})]},t)})})]}),(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-10 mt-12 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 border-t-4 border-red-500 border-dashed mr-3"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Predicted Start Date"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-6 bg-blue-100 mr-3"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"95% Confidence Interval"})]})]}),(0,s.jsxs)("div",{className:"mt-6 text-center bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,s.jsxs)("p",{className:"font-semibold text-lg mb-2",children:["Predicted date: ",(0,s.jsx)("span",{className:"text-red-600",children:t})]}),(0,s.jsxs)("p",{className:"text-gray-700",children:["Possible range: ",(0,s.jsx)("span",{className:"font-medium",children:a})," to ",(0,s.jsx)("span",{className:"font-medium",children:n})]})]})]})}catch(e){return console.error("Error rendering PredictionChart:",e),(0,s.jsxs)("div",{className:"p-4 text-center text-red-500",children:["Error rendering chart: ",e.message]})}},j=e=>{let{setCurrentPage:t,currentPage:a,result:n,setResult:i,setName:o,UserName:d}=e,[c,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[m,p]=(0,r.useState)(!0),[u,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{if(n&&Object.keys(n).length>0){console.log("Using existing result data:",n),h(n),p(!1);return}let e=await fetch("/api/prediction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!e.ok){let t=await e.text();throw Error("Server responded with ".concat(e.status,": ").concat(t))}let t=await e.json();console.log("Received prediction data:",t),t&&"predictionDate"in t&&"lowerBound"in t&&"upperBound"in t?(h(t),i(t)):(console.error("Response missing expected fields:",t),g("The response data is incomplete"))}catch(e){console.error("Error fetching prediction:",e),g(e.message)}finally{p(!1)}})()},[n,i]);let b=()=>{i(""),o(""),t("homepage"),console.log("Returned to homepage")};return((0,r.useEffect)(()=>{j(!0)},[]),m)?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)("p",{children:"Loading prediction data..."})}):x?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen text-center",children:[(0,s.jsx)("p",{className:"text-red-500 text-xl mb-4",children:"Error fetching prediction"}),(0,s.jsx)("p",{children:x}),(0,s.jsx)(l.A,{variant:"contained",color:"primary",onClick:b,className:"mt-4",children:"Return to Home"})]}):(console.log("Data being passed to PredictionChart:",c),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-10 text-center",children:[(0,s.jsx)("div",{className:"fade-text ".concat(u?"visible":""),children:(0,s.jsxs)("p",{className:"verdana-xl padding-class-topper",children:[d||"Hello",", your next period is predicted to start on or around ",(0,s.jsx)("b",{children:(e=>e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric"}):"loading...")(null==c?void 0:c.predictionDate)}),"."]})}),(0,s.jsx)("div",{className:"verdana-s-normal fade-text2 ".concat(u?"visible":""),children:(0,s.jsxs)("p",{children:["There is no exact science for calculating when your next period will start, and cycle length naturally fluctuates month to month for each person. ",(0,s.jsx)("br",{}),"In fact, it is common for people to have cycles that vary by up to five days from one month to the next. ",(0,s.jsx)("br",{}),"So, this start date is just a well-informed estimate. The graph below shows you the range of dates your period could start on."]})})]}),(0,s.jsxs)("div",{className:"w-full max-w-lg md:max-w-xl lg:max-w-3xl mx-auto h-auto",children:[c?(0,s.jsx)(f,{predictionDate:c.predictionDate,lowerBound:c.lowerBound,upperBound:c.upperBound}):(0,s.jsx)("p",{className:"text-center",children:"Unable to load prediction chart."}),(0,s.jsx)("div",{className:"fade-text ".concat(u?"visible":""),children:(0,s.jsx)("p",{className:"verdana-s padding-class-around",children:"This plot shows the predicted date of your next period, as well as the 95% confidence interval for this prediction."})}),(0,s.jsx)("div",{className:"fade-text ".concat(u?"visible":""),children:(0,s.jsxs)("p",{className:"verdana-s-normal padding-class-top-less",children:[(0,s.jsx)("b",{children:"About this tool"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"This period predictor app was created using data from a 2013 study by ",(0,s.jsx)("a",{href:"https://epublications.marquette.edu/cgi/viewcontent.cgi?article=1002&context=data_nfp",className:"text-blue-600 hover:underline",children:"Fehring et al."}),"that collected data on the menstrual cycles of 159 anonymous American women over a span of 12 months to compare the efficacy of two internet-supported natural family planning methods.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"For each woman, approximately 10 cycles were logged; for each cycle, information such as the length of the cycle and the length of menstruation is logged, as well as the demographic information of the client (age, height, weight).",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),'A computer model, known as a "machine learning model" was then fed this data, looked at each of the 159 women in the dataset, and identified patterns between these variables.',(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Indeed, relationships exist among the length of future cycles and the length of past cycles. For instance, the average menstrual cycle length for all women in the world is around 28 days, but this varies from person to person. Some people have shorter cycles on average, whereas others have longer ones. Once you know your average cycle length, this information can be used to predict future cycle lengths. Additionally, patterns exist among age and BMI (which is calculated from height and weight) and the average length of a person's menstrual cycle. ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Without explicitly being told this, the model is able to identify these relationships. Then, when a user (that's you!) provides the model with new, unseen data about ",(0,s.jsx)("em",{children:"your"})," cycles and demographics, it is able to predict the date of your next period.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"This is because a ",(0,s.jsx)("strong",{children:"menstrual cycle"})," is defined as ",(0,s.jsx)("strong",{children:"the time from the first day of a person's period to the day before the start date of their next period"}),".",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"So, for example, if the model predicts that, based on your past three periods and your age and BMI, your next cycle will be 28 days long, it can take the date of your most recent period, add 28 days to it, and then the day ",(0,s.jsx)("em",{children:"after"})," those 28 days will be the date of your next period!",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Since, as mentioned before, there is no exact science for calculating when your next period will start, we can also obtain a range of dates your next period could start on by running the data you provided through the model multiple times.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"With this range of dates, this tool can help you feel a little less anxious about your next period and help you plan ahead!"]})}),(0,s.jsx)("div",{className:"flex justify-center mt-8 mb-10",children:(0,s.jsx)(l.A,{variant:"contained",color:"primary",onClick:b,children:"Return to Home"})})]})]}))},b=function(){let[e,t]=(0,r.useState)("homepage"),[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[y,v]=(0,r.useState)([]),[w,N]=(0,r.useState)([]),[S,D]=(0,r.useState)([]),[C,I]=(0,r.useState)(""),[E,A]=(0,r.useState)(""),[P,T]=(0,r.useState)("");return((0,r.useEffect)(()=>{console.log("Date updated:",S)},[S]),"homepage"===e)?(0,s.jsx)(o,{currentPage:e,setCurrentPage:t,UserName:a,setName:n}):"demos"===e?(0,s.jsx)(x,{currentPage:e,setCurrentPage:t,UserName:a,setAge:i,setFeet:c,setInches:m,setWeight:u}):"input"===e?(0,s.jsx)(h,{currentPage:e,setCurrentPage:t,Age:l,setAge:i,Feet:d,setFeet:c,Inches:g,setInches:m,Weight:p,setWeight:u,date:y,setDate:v,secondDate:w,setSecondDate:N,thirdDate:S,setThirdDate:D,dateError:C,setDateError:I,date2Error:E,setDate2Error:A,setResult:T}):"prediction"===e?(0,s.jsx)(j,{currentPage:e,setCurrentPage:t,result:P,setResult:T,UserName:a,setName:n}):void 0}},3094:()=>{},6651:(e,t,a)=>{Promise.resolve().then(a.bind(a,361))}},e=>{var t=t=>e(e.s=t);e.O(0,[471,690,136,441,684,358],()=>t(6651)),_N_E=e.O()}]);